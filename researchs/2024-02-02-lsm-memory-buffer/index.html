<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Self Designing Data Systems | SSD Lab </title> <meta name="author" content="SSD Lab"> <meta name="description" content="Smart and Scalable Data Systems lab "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ssd-brandeis.github.io/researchs/2024-02-02-lsm-memory-buffer/"> <script src="/assets/js/theme.js?a3ba396555dd4721974cfd58a4c10f72"></script> </head> <body> <div class="top-container" id="home"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" style="margin: 0px; padding: 0px" href="/"> <img height="40px" src="/assets/img/SSD%20lab-logo.png"> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/#home">Home </a> </li> <li class="nav-item "> <a class="nav-link" href="/#news"> News </a> </li> <li class="nav-item "> <a class="nav-link" href="/#research"> Research </a> </li> <li class="nav-item "> <a class="nav-link" href="/#publication"> Publication </a> </li> <li class="nav-item "> <a class="nav-link" href="/#classes"> Classes </a> </li> <li class="nav-item "> <a class="nav-link" href="/#team"> Team </a> </li> <li class="nav-item "> <a class="nav-link" href="/#contact"> Contact </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Self Designing Data Systems</h1> <p class="post-meta"> Created in February 02, 2024 </p> <p class="post-tags"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Brief description of Research Topic 1.</p> </div> </article> </div> </div> </div> <section class="news-section container" id="news"> <h1>Latest News</h1> <div class="news-item"> <p class="news-date"><span style="color: black;">Oct, 2024 </span></p> <div class="news-desc"> <h4><a href="/">Our paper ''QuIT your B+Tree for Quick Insertion Tree'' is accepted for publication in EDBT 2025.</a></h4> </div> </div> <div class="news-item"> <p class="news-date"><span style="color: black;">Jun, 2024 </span></p> <div class="news-desc"> <h4><a href="/">Our paper ''QuIT your B+Tree for Quick Insertion Tree'' is accepted for publication in EDBT 2025.</a></h4> <div class="news-link"> <a href="#"> <span class="icon" style="color: #189dfb;"><i class="fa-solid fa-book-open-reader"></i></span> </a> </div> <div class="news-link"> <a href="#"> <span class="icon" style="color: rgb(255, 140, 0);"><i class="fa-brands fa-slideshare"></i></span> </a> </div> </div> </div> <div class="news-item"> <p class="news-date"><span style="color: black;">May, 2024 </span></p> <div class="news-desc"> <h4><a href="/">Our paper ''Anatomy of the LSM Memory Buffer: Insights &amp; Implications'' is accepted for publication in DBTest 2024.</a></h4> </div> </div> <div class="news-item"> <p class="news-date"><span style="color: black;">May, 2024 </span></p> <div class="news-desc"> <h4><a href="/">Our paper ''KVBench: A Key-Value Benchmarking Suite'' is accepted for publication in DBTest 2024.</a></h4> </div> </div> </section> <section class="research-agenda" id="research"> <div class="container"> <div class="research"><h1></h1></div> <div class="research"><p></p></div> <div class="card-container"> <div class="card"> <div class="card-front"> <div class="card-image" style="background-image: url('/assets/img/query_driven_compaction.webp');"></div> <div class="card-title">Query Optimization in No SQL</div> </div> <div class="card-back"> <h3>Query Optimization in No SQL</h3> <div class="scrollable-text"> <h3></h3> <p>Brief description of Research Topic 1.</p> </div> <div class="button-row"> <a href="https://github.com/SSD-Brandeis/LSMQueryDrivenCompaction" class="button" rel="external nofollow noopener" target="_blank">GitHub</a> </div> </div> </div> <div class="card"> <div class="card-front"> <div class="card-image" style="background-image: url('/assets/img/range_delete_filter.webp');"></div> <div class="card-title">Delete Compliance Databases</div> </div> <div class="card-back"> <h3>Delete Compliance Databases</h3> <div class="scrollable-text"> <h3></h3> <p>Brief description of Research Topic 1.</p> </div> <div class="button-row"> <a href="https://github.com/SSD-Brandeis/LSMRangeDeletes" class="button" rel="external nofollow noopener" target="_blank">GitHub</a> </div> </div> </div> <div class="card"> <div class="card-front"> <div class="card-image" style="background-image: url('/assets/img/memory_buffer.webp');"></div> <div class="card-title">Self Designing Data Systems</div> </div> <div class="card-back"> <h3>Self Designing Data Systems</h3> <div class="scrollable-text"> <h3></h3> <p>Brief description of Research Topic 1.</p> </div> <div class="button-row"> <a href="https://github.com/SSD-Brandeis/LSMMemoryProfiling" class="button" rel="external nofollow noopener" target="_blank">GitHub</a> </div> </div> </div> </div> </div> </section> <section class="publication-agenda container" id="publication"> <div class="research"><h1>Publication</h1></div> <div class="publications"> <ol class="bibliography"> <li> <div class="row"> <div class="col col-sm-2 abbr"> <abbr class="badge rounded w-100">DBTest</abbr> </div> <div id="DBLP:conf/dbtest-ws/KaushikS24" class="col-sm-10"> <div class="title">Anatomy of the LSM Memory Buffer: Insights &amp; Implications</div> <div class="author"> Shubham Kaushik and Subhadeep Sarkar </div> <div class="periodical"> <em>In Proceedings of the International Workshop on Testing Database Systems (DBTest)</em> , 2024 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="/assets/pdf/Anatomy_of_the_LSM_Memory_Buffer_Insights_&amp;_Implications.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> <div class="abstract hidden"> <p>Log-structured merge (LSM) tree is an ingestion-optimized data structure that is widely used in modern NoSQL key-value stores. To support high throughput for writes, LSM-trees maintain an in-memory buffer that absorbs the incoming entries before writing them to slower secondary storage. We point out that the choice of the data structure and implementation of the memory buffer has a significant impact on the overall performance of LSM-based storage engines. In fact, even with the same implementation of the buffer, the performance of a storage engine can vary by up to several orders of magnitude if there is a shift in the input workload. <br>In this paper, we benchmark the performance of LSM-based storage engines with different memory buffer implementations and under different workload characteristics. We experiment with four buffer implementations, namely, (i) vector, (ii) skip-list, (iii) hash skip-list, and (iv) hash linked-list, and for each implementation, we vary any design choices (such as bucket count in a hash skip-list and prefix length in a hash linked-list). We present a comprehensive performance benchmark for each buffer configuration, and highlight how the relative performance of the different buffer implementations varies with a shift in input workload. Lastly, we present a guideline for selecting the appropriate buffer implementation for a given workload and performance goal.</p> </div> </div> </div> </li> <li> <div class="row"> <div class="col col-sm-2 abbr"> <abbr class="badge rounded w-100">DBTest</abbr> </div> <div id="DBLP:conf/dbtest-ws/ZhuSAS24" class="col-sm-10"> <div class="title">KVBench: A Key-Value Benchmarking Suite</div> <div class="author"> Zichen Zhu, Arpita Saha, Manos Athanassoulis, and Subhadeep Sarkar </div> <div class="periodical"> <em>In Proceedings of the International Workshop on Testing Database Systems (DBTest)</em> , 2024 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="/assets/pdf/KVBench_A_Key-Value_Benchmarking_Suite.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> <div class="abstract hidden"> <p>Key-value stores are at the core of several modern NoSQL-based data systems, and thus, a comprehensive benchmark tool is of paramount importance in evaluating their performance under different workloads. Prior research reveals that real-world workloads have a diverse range of characteristics, such as the fraction of point queries that target non-existing keys, point and range deletes, as well as, different distributions for queries and updates, all of which have very different performance implications. State-of-the-art key-value workload generators, such as YCSB and db_bench, fail to generate workloads that emulate these practical workloads, limiting the dimensions on which we can benchmark the systems’ performance. <br>In this paper, we present KVBench, a novel synthetic workload generator that fills the gap between classical key-value workload generators and more complex real-life workloads. KVBench supports a wide range of operations, including point queries, range queries, inserts, updates, deletes, range deletes, and among these options, inserts, queries, and updates can be customized by different distributions. Compared to state-of-the-art key-value workload generators, KVBench offers a richer array of knobs, including the proportion of empty point queries, customized distributions for updates and queries, and range deletes with specific selectivity, constituting a significantly flexible framework that can better emulate real-world workloads.</p> </div> </div> </div> </li> <li> <div class="row"> <div class="col col-sm-2 abbr"> <abbr class="badge rounded w-100">EDBT</abbr> </div> <div id="DBLP:conf/edbt/Raman2025" class="col-sm-10"> <div class="title">QuIT your B+-tree for the Quick Insertion Tree</div> <div class="author"> Aneesh Raman, Konstantinos Karatsenidis, Shaolin Xie, Matthaios Olma, Subhadeep Sarkar, and Manos Athanassoulis </div> <div class="periodical"> <em>In Proceedings of the International Conference on Extending Database Technology (EDBT)</em> , 2025 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="/assets/pdf/QuIT_your_B+-tree_for_the_Quick_Insertion_Tree.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> <div class="abstract hidden"> <p>Search trees, like B+-trees, are often used as index structures in data systems to improve query performance at the cost of index construction and maintenance. Production data systems drastically reduce the index construction cost when the data arrives fully sorted by employing a fast-path ingestion technique to their B+-tree that directly appends the incoming entries to the tail leaf. However, this optimization is only effective if the incoming data is fully sorted or has very few out-of-order entries. The state-of-the-art sortedness-aware design (SWARE) employs an in-memory buffer to capture near-sortedness to reduce the index construction cost when the data is nearly sorted. This, however, sacrifices performance during lookups and introduces additional design complexity. <br>To address these challenges, we present Quick Insertion Tree (QuIT), a new sortedness-aware index that improves ingestion performance with minimal design complexity and no read over- head. QuIT maintains in memory a pointer to the predicted- ordered-leaf (𝑝𝑜ℓ𝑒) that provides a sortedness-aware fast-path optimization, and facilitates faster ingestion. The key benefit comes from accurately predicting 𝑝𝑜ℓ𝑒 throughout data ingestion. Further, QuIT achieves high memory utilization by maintaining tightly packed leaf nodes when the ingested data arrives with high sortedness. This, in turn, helps improve performance during range lookups. Overall, QuIT outperforms B+-tree (SWARE) by up to 3× (2×) for ingestion, while also offering up to 1.32× faster (than SWARE) point lookup performance and accessing up to 2× fewer leaf nodes than the B+-tree during range lookups.</p> </div> </div> </div> </li> <li> <div class="row"> <div class="col col-sm-2 abbr"> <abbr class="badge rounded w-100">TODS</abbr> </div> <div id="DBLP:journals/tods/SarkarPSZA23" class="col-sm-10"> <div class="title">Enabling Timely and Persistent Deletion in LSM-Engines</div> <div class="author"> Subhadeep Sarkar, Tarikul Islam Papon, Zichen Zhu, Dimitris Staratzis, and Manos Athanassoulis </div> <div class="periodical"> <em>ACM Transactions on Database Systems</em>, 2023 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="/assets/pdf/Enabling_Timely_and_Persistent_Deletion_in_LSM-Engines.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> <div class="abstract hidden"> <p>Data-intensive applications have fueled the evolution of log-structured merge (LSM) based key-value engines that employ the out-of-place paradigm to support high ingestion rates with low read/write interference. These benefits, however, come at the cost of treating deletes as second-class citizens. A delete operation inserts a tombstone that invalidates older instances of the deleted key. State-of-the-art LSM-engines do not provide guarantees as to how fast a tombstone will propagate to persist the deletion. <br>Further, LSM-engines only support deletion on the sort key. To delete on another attribute (e.g., timestamp), the entire tree is read and re-written, leading to undesired latency spikes and increasing the overall operational cost of a database. Efficient and persistent deletion is key to support: (i) streaming systems operating on a window of data, (ii) privacy with latency guarantees on data deletion, and (iii) en masse cloud deployment of data systems. Further, we document that LSM-based key-value engines perform suboptimally in presence of deletes in a workload. Tombstone-driven logical deletes, by design, are unable to purge the deleted entries in a timely manner, and retaining the invalidated entries perpetually affects the overall performance of LSM-engines in terms of space amplification, write amplification, and read performance. Moreover, the potentially unbounded latency for persistent deletes brings in critical privacy concerns in light of the data privacy protection regulations, such as the right to be forgotten in EU’s GDPR, the right to delete in California’s CCPA and CPRA, and deletion right in Virginia’s VCDPA. Toward this, we introduce the delete design space for LSM-trees and highlight the performance implications of the different classes of delete operations. <br>To address these challenges, in this article, we build a new key-value storage engine, Lethe+, that uses a very small amount of additional metadata, a set of new delete-aware compaction policies, and a new physical data layout that weaves the sort and the delete key order. We show that Lethe+ supports any user-defined threshold for the delete persistence latency offering higher read throughput (1.17x-1.4x) and lower space amplification (2.1x-9.8x), with a modest increase in write amplification (between 4% and 25%) that can be further amortized to less than 1%. In addition, Lethe+ supports efficient range deletes on a secondary delete key by dropping entire data pages without sacrificing read performance or employing a costly full tree merge. </p> </div> </div> </div> </li> </ol> </div> </section> <section class="research-agenda" id="classes"> <div class="classes research"><h1>Classes</h1></div> <div class="classes-container container"> <div class="icon-container"> <div class="course-icon"> <a href="https://ssd-brandeis.github.io/COSI-127B/" rel="external nofollow noopener" target="_blank"> <img src="/assets/img/cosi-127b.jpg" alt="Database Management Systems"> <div class="course-text">Database Management Systems</div></a> </div> <div class="course-icon"> <a href="https://ssd-brandeis.github.io/COSI-167A/" rel="external nofollow noopener" target="_blank"> <img src="/assets/img/cosi-167A.jpg" alt="Advanced Database Systems"> <div class="course-text">Advanced Data Systems</div></a> </div> </div> </div> </section> <section class="team-section" id="team"> <div class="container"> <h1>Team</h1> <div class="team-container"> <div class="admin-member"> <a href="https://subhadeep.net/" rel="external nofollow noopener" target="_blank"><img src="/assets/img/sarkar_cropped.png" alt="Subhadeep Sarkar" class="team-photo"></a> <div class="member-info"> <div class="member-name">Subhadeep Sarkar</div> <p><span class="designation">Assistant Professor</span><br>Office Volen 259<br><span class="email">subhadeep@brandeis.com</span></p> </div> </div> <div class="team-member"> <a href="https://shubhamkaushik.com/" rel="external nofollow noopener" target="_blank"><img src="/assets/img/shubham_kaushik.jpg" alt="Shubham Kaushik" class="team-photo"></a> <div class="member-info"> <div class="member-name">Shubham Kaushik</div> <p><span class="designation">PhD Researcher</span><br>Office Volen 110<br><span class="email">kaushiks@brandeis.edu</span></p> </div> </div> <div class="team-member"> <a href=""><img src="/assets/img/james_chen.jpeg" alt="James Chen" class="team-photo"></a> <div class="member-info"> <div class="member-name">James Chen</div> <p><span class="designation">PhD Researcher</span><br>Office Volen 111<br><span class="email">boaochen@brandeis.edu</span></p> </div> </div> <div class="team-member"> <a href=""><img src="/assets/img/yuchen_huang.jpg" alt="Yu-Cheng Huang" class="team-photo"></a> <div class="member-info"> <div class="member-name">Yu-Cheng Huang</div> <p><span class="designation">Researcher</span><br><span class="email">ychuang2@bu.edu</span></p> </div> </div> <div class="team-member"> <a href=""><img src="/assets/img/arpita_saha.png" alt="Arpita Saha" class="team-photo"></a> <div class="member-info"> <div class="member-name">Arpita Saha</div> <p><span class="designation">Researcher</span><br><span class="email"></span></p> </div> </div> <div class="team-member"> <a href=""><img src="/assets/img/alexander_ott.jpg" alt="Alexander Ott" class="team-photo"></a> <div class="member-info"> <div class="member-name">Alexander Ott</div> <p><span class="designation">Researcher</span><br><span class="email">alexanderott@brandeis.edu</span></p> </div> </div> </div> </div> </section> <div class="contact-info" id="contact"> <div class="contact-info-box container"> <h1>Find Us</h1> <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2947.81341507013!2d-71.26054922336338!3d42.367815534610806!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89e3833e07e5a11f%3A0x811cd0fc044f65ff!2sBrandeis%20University%20Graduate%20School%20of%20Arts%20and%20Sciences!5e0!3m2!1sen!2scl!4v1718342640339!5m2!1sen!2scl" width="600" height="300" style="border:0; margin:10px" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 SSD Lab. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?06cae41083477f121be8cd9797ad8e2f"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script src="/assets/js/shortcut-key.js"></script> </body> </html>